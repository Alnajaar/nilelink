{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://nilelink.org/schemas/event-types-0.1.json",
  "version": "0.1",
  "eventEnvelope": {
    "type": "object",
    "additionalProperties": false,
    "properties": {
      "eventId": {
        "type": "string",
        "minLength": 10,
        "maxLength": 64
      },
      "eventType": {
        "type": "string"
      },
      "schemaVersion": {
        "const": "0.1"
      },
      "streamId": {
        "type": "string",
        "minLength": 1,
        "maxLength": 128
      },
      "producerId": {
        "type": "string",
        "minLength": 1,
        "maxLength": 128
      },
      "streamSeq": {
        "type": "integer",
        "minimum": 1
      },
      "lamport": {
        "type": "integer",
        "minimum": 1
      },
      "occurredAt": {
        "type": "string",
        "format": "date-time"
      },
      "actor": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "USER",
              "SYSTEM",
              "ORACLE",
              "CHAIN"
            ]
          },
          "id": {
            "type": "string",
            "maxLength": 128
          }
        },
        "required": [
          "type",
          "id"
        ]
      },
      "payload": {
        "type": "object"
      },
      "hash": {
        "type": "string",
        "pattern": "^0x[a-fA-F0-9]{64}$"
      }
    },
    "required": [
      "eventId",
      "eventType",
      "schemaVersion",
      "streamId",
      "producerId",
      "streamSeq",
      "lamport",
      "occurredAt",
      "actor",
      "payload",
      "hash"
    ]
  },
  "events": {
    "RestaurantRegistered": {
      "name": "RestaurantRegistered",
      "category": "Restaurant",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "ownerPhoneNumber": {
            "type": "string",
            "pattern": "^\\+[1-9]\\d{1,14}$"
          },
          "legalName": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "en": {
                "type": "string",
                "minLength": 1,
                "maxLength": 256
              },
              "ar": {
                "type": "string",
                "minLength": 1,
                "maxLength": 256
              }
            },
            "required": [
              "en",
              "ar"
            ]
          },
          "localName": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "en": {
                "type": "string",
                "minLength": 1,
                "maxLength": 256
              },
              "ar": {
                "type": "string",
                "minLength": 1,
                "maxLength": 256
              }
            },
            "required": [
              "en",
              "ar"
            ]
          },
          "country": {
            "type": "string",
            "pattern": "^[A-Z]{2}$"
          },
          "localCurrency": {
            "type": "string",
            "pattern": "^[A-Z]{3}$"
          },
          "dailyRateLimit": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          },
          "timezone": {
            "type": "string"
          },
          "taxPercentage": {
            "type": "number",
            "minimum": 0,
            "maximum": 100
          },
          "chainlinkOracleAddress": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          }
        },
        "required": [
          "chainlinkOracleAddress",
          "country",
          "dailyRateLimit",
          "legalName",
          "localCurrency",
          "localName",
          "ownerPhoneNumber",
          "restaurantId",
          "taxPercentage",
          "timezone"
        ]
      }
    },
    "RestaurantStatusChanged": {
      "name": "RestaurantStatusChanged",
      "category": "Restaurant",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "oldStatus": {
            "type": "string",
            "enum": [
              "ACTIVE",
              "SUSPENDED",
              "INACTIVE"
            ]
          },
          "newStatus": {
            "type": "string",
            "enum": [
              "ACTIVE",
              "SUSPENDED",
              "INACTIVE"
            ]
          },
          "reason": {
            "type": "string",
            "maxLength": 512
          }
        },
        "required": [
          "newStatus",
          "oldStatus",
          "reason",
          "restaurantId"
        ]
      }
    },
    "RestaurantRateLimitUpdated": {
      "name": "RestaurantRateLimitUpdated",
      "category": "Restaurant",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "oldDailyRateLimit": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          },
          "newDailyRateLimit": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          },
          "reason": {
            "type": "string",
            "maxLength": 512
          }
        },
        "required": [
          "newDailyRateLimit",
          "oldDailyRateLimit",
          "reason",
          "restaurantId"
        ]
      }
    },
    "RestaurantOracleUpdated": {
      "name": "RestaurantOracleUpdated",
      "category": "Restaurant",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "oldOracle": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "newOracle": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "effectiveAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "effectiveAt",
          "newOracle",
          "oldOracle",
          "restaurantId"
        ]
      }
    },
    "RestaurantTaxUpdated": {
      "name": "RestaurantTaxUpdated",
      "category": "Restaurant",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "oldTaxPercentage": {
            "type": "number",
            "minimum": 0,
            "maximum": 100
          },
          "newTaxPercentage": {
            "type": "number",
            "minimum": 0,
            "maximum": 100
          },
          "effectiveAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "effectiveAt",
          "newTaxPercentage",
          "oldTaxPercentage",
          "restaurantId"
        ]
      }
    },
    "RestaurantCurrencyUpdated": {
      "name": "RestaurantCurrencyUpdated",
      "category": "Restaurant",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "oldLocalCurrency": {
            "type": "string",
            "pattern": "^[A-Z]{3}$"
          },
          "newLocalCurrency": {
            "type": "string",
            "pattern": "^[A-Z]{3}$"
          },
          "effectiveAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "effectiveAt",
          "newLocalCurrency",
          "oldLocalCurrency",
          "restaurantId"
        ]
      }
    },
    "RestaurantKycSubmitted": {
      "name": "RestaurantKycSubmitted",
      "category": "Restaurant",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "kycProvider": {
            "type": "string",
            "maxLength": 128
          },
          "kycReference": {
            "type": "string",
            "maxLength": 256
          }
        },
        "required": [
          "kycProvider",
          "kycReference",
          "restaurantId"
        ]
      }
    },
    "RestaurantKycApproved": {
      "name": "RestaurantKycApproved",
      "category": "Restaurant",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "kycProvider": {
            "type": "string",
            "maxLength": 128
          },
          "kycReference": {
            "type": "string",
            "maxLength": 256
          },
          "approvedAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "approvedAt",
          "kycProvider",
          "kycReference",
          "restaurantId"
        ]
      }
    },
    "RestaurantKycRejected": {
      "name": "RestaurantKycRejected",
      "category": "Restaurant",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "kycProvider": {
            "type": "string",
            "maxLength": 128
          },
          "kycReference": {
            "type": "string",
            "maxLength": 256
          },
          "reason": {
            "type": "string",
            "maxLength": 512
          }
        },
        "required": [
          "kycProvider",
          "kycReference",
          "reason",
          "restaurantId"
        ]
      }
    },
    "OrderCreated": {
      "name": "OrderCreated",
      "category": "Order",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "items": {
            "type": "array",
            "minItems": 1,
            "items": {
              "type": "object"
            }
          },
          "total": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          },
          "customerId": {
            "type": "string"
          }
        },
        "required": [
          "customerId",
          "items",
          "orderId",
          "restaurantId",
          "total"
        ]
      }
    },
    "OrderConfirmed": {
      "name": "OrderConfirmed",
      "category": "Order",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "paymentTxHash": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{64}$"
          }
        },
        "required": [
          "orderId",
          "paymentTxHash"
        ]
      }
    },
    "OrderItemModified": {
      "name": "OrderItemModified",
      "category": "Order",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "itemId": {
            "type": "string",
            "maxLength": 64
          },
          "newQty": {
            "type": "integer",
            "minimum": 0,
            "maximum": 1000
          }
        },
        "required": [
          "itemId",
          "newQty",
          "orderId"
        ]
      }
    },
    "OrderItemAdded": {
      "name": "OrderItemAdded",
      "category": "Order",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "item": {
            "type": "object"
          }
        },
        "required": [
          "item",
          "orderId"
        ]
      }
    },
    "OrderItemRemoved": {
      "name": "OrderItemRemoved",
      "category": "Order",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "itemId": {
            "type": "string",
            "maxLength": 64
          }
        },
        "required": [
          "itemId",
          "orderId"
        ]
      }
    },
    "OrderCancelled": {
      "name": "OrderCancelled",
      "category": "Order",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "reason": {
            "type": "string",
            "maxLength": 512
          },
          "refundTxHash": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^0x[a-fA-F0-9]{64}$"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "required": [
          "orderId",
          "reason",
          "refundTxHash"
        ]
      }
    },
    "OrderPaid": {
      "name": "OrderPaid",
      "category": "Order",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "amount": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          },
          "rate": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,12})?$"
          },
          "txHash": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{64}$"
          }
        },
        "required": [
          "amount",
          "orderId",
          "rate",
          "txHash"
        ]
      }
    },
    "OrderReadyForPickup": {
      "name": "OrderReadyForPickup",
      "category": "Order",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          }
        },
        "required": [
          "orderId"
        ]
      }
    },
    "OrderDeliveryAssigned": {
      "name": "OrderDeliveryAssigned",
      "category": "Order",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "deliveryPartnerId": {
            "type": "string",
            "maxLength": 128
          },
          "fee": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          }
        },
        "required": [
          "deliveryPartnerId",
          "fee",
          "orderId"
        ]
      }
    },
    "OrderPickedUp": {
      "name": "OrderPickedUp",
      "category": "Order",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "by": {
            "type": "string",
            "enum": [
              "CUSTOMER",
              "PARTNER"
            ]
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "orderId",
          "by",
          "timestamp"
        ]
      }
    },
    "OrderDelivered": {
      "name": "OrderDelivered",
      "category": "Order",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "actualTime": {
            "type": "string",
            "format": "date-time"
          },
          "rating": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 1,
                "maximum": 5
              },
              {
                "type": "null"
              }
            ]
          },
          "feedback": {
            "type": "string",
            "maxLength": 2000
          }
        },
        "required": [
          "actualTime",
          "feedback",
          "orderId",
          "rating"
        ]
      }
    },
    "OrderDisputed": {
      "name": "OrderDisputed",
      "category": "Order",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "reason": {
            "type": "string",
            "maxLength": 512
          },
          "claimAmount": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          }
        },
        "required": [
          "claimAmount",
          "orderId",
          "reason"
        ]
      }
    },
    "OrderRefunded": {
      "name": "OrderRefunded",
      "category": "Order",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "amount": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          },
          "txHash": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{64}$"
          }
        },
        "required": [
          "amount",
          "orderId",
          "txHash"
        ]
      }
    },
    "OrderNotesUpdated": {
      "name": "OrderNotesUpdated",
      "category": "Order",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "orderNotes": {
            "type": "string",
            "maxLength": 2000
          }
        },
        "required": [
          "orderId",
          "orderNotes"
        ]
      }
    },
    "KitchenNotesUpdated": {
      "name": "KitchenNotesUpdated",
      "category": "Order",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "kitchenNotes": {
            "type": "string",
            "maxLength": 2000
          }
        },
        "required": [
          "kitchenNotes",
          "orderId"
        ]
      }
    },
    "OrderStatusChanged": {
      "name": "OrderStatusChanged",
      "category": "Order",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "oldStatus": {
            "type": "string"
          },
          "newStatus": {
            "type": "string"
          },
          "reason": {
            "type": "string",
            "maxLength": 512
          }
        },
        "required": [
          "newStatus",
          "oldStatus",
          "orderId",
          "reason"
        ]
      }
    },
    "OrderCompleted": {
      "name": "OrderCompleted",
      "category": "Order",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "completedAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "completedAt",
          "orderId"
        ]
      }
    },
    "KitchenOrderReceived": {
      "name": "KitchenOrderReceived",
      "category": "Kitchen",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "items": {
            "type": "array",
            "minItems": 1,
            "items": {
              "type": "object"
            }
          }
        },
        "required": [
          "items",
          "orderId",
          "restaurantId"
        ]
      }
    },
    "KitchenStartCooking": {
      "name": "KitchenStartCooking",
      "category": "Kitchen",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "estimatedTime": {
            "type": "string",
            "maxLength": 64
          }
        },
        "required": [
          "estimatedTime",
          "orderId"
        ]
      }
    },
    "KitchenOrderReady": {
      "name": "KitchenOrderReady",
      "category": "Kitchen",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          }
        },
        "required": [
          "orderId"
        ]
      }
    },
    "KitchenOutOfStock": {
      "name": "KitchenOutOfStock",
      "category": "Kitchen",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "itemId": {
            "type": "string",
            "maxLength": 64
          },
          "alternative": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 256
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "required": [
          "alternative",
          "itemId",
          "orderId"
        ]
      }
    },
    "KitchenOrderRejected": {
      "name": "KitchenOrderRejected",
      "category": "Kitchen",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "reason": {
            "type": "string",
            "maxLength": 512
          }
        },
        "required": [
          "orderId",
          "reason"
        ]
      }
    },
    "KitchenPrepTimeUpdated": {
      "name": "KitchenPrepTimeUpdated",
      "category": "Kitchen",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "oldEstimatedMinutes": {
            "type": "integer",
            "minimum": 0
          },
          "newEstimatedMinutes": {
            "type": "integer",
            "minimum": 0
          }
        },
        "required": [
          "newEstimatedMinutes",
          "oldEstimatedMinutes",
          "orderId"
        ]
      }
    },
    "InventoryItemAdded": {
      "name": "InventoryItemAdded",
      "category": "Inventory",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "itemId": {
            "type": "string",
            "maxLength": 64
          },
          "name": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "en": {
                "type": "string",
                "minLength": 1,
                "maxLength": 256
              },
              "ar": {
                "type": "string",
                "minLength": 1,
                "maxLength": 256
              }
            },
            "required": [
              "en",
              "ar"
            ]
          },
          "qty": {
            "type": "integer",
            "minimum": 0
          },
          "costPerUnit": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          }
        },
        "required": [
          "costPerUnit",
          "itemId",
          "name",
          "qty",
          "restaurantId"
        ]
      }
    },
    "InventoryUpdated": {
      "name": "InventoryUpdated",
      "category": "Inventory",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "itemId": {
            "type": "string",
            "maxLength": 64
          },
          "oldQty": {
            "type": "integer",
            "minimum": 0
          },
          "newQty": {
            "type": "integer",
            "minimum": 0
          },
          "reason": {
            "type": "string",
            "maxLength": 128
          }
        },
        "required": [
          "itemId",
          "newQty",
          "oldQty",
          "reason",
          "restaurantId"
        ]
      }
    },
    "InventoryQtyIncremented": {
      "name": "InventoryQtyIncremented",
      "category": "Inventory",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "itemId": {
            "type": "string",
            "maxLength": 64
          },
          "delta": {
            "type": "integer",
            "minimum": 1
          },
          "reason": {
            "type": "string",
            "maxLength": 128
          }
        },
        "required": [
          "delta",
          "itemId",
          "reason",
          "restaurantId"
        ]
      }
    },
    "InventoryQtyDecremented": {
      "name": "InventoryQtyDecremented",
      "category": "Inventory",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "itemId": {
            "type": "string",
            "maxLength": 64
          },
          "delta": {
            "type": "integer",
            "minimum": 1
          },
          "reason": {
            "type": "string",
            "maxLength": 128
          }
        },
        "required": [
          "delta",
          "itemId",
          "reason",
          "restaurantId"
        ]
      }
    },
    "InventoryLowAlert": {
      "name": "InventoryLowAlert",
      "category": "Inventory",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "itemId": {
            "type": "string",
            "maxLength": 64
          },
          "currentQty": {
            "type": "integer",
            "minimum": 0
          },
          "minQty": {
            "type": "integer",
            "minimum": 0
          }
        },
        "required": [
          "currentQty",
          "itemId",
          "minQty",
          "restaurantId"
        ]
      }
    },
    "RestockingRequested": {
      "name": "RestockingRequested",
      "category": "Inventory",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "supplierId": {
            "type": "string",
            "maxLength": 128
          },
          "items": {
            "type": "array",
            "items": {
              "type": "object"
            }
          },
          "estimatedCost": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          }
        },
        "required": [
          "estimatedCost",
          "items",
          "restaurantId",
          "supplierId"
        ]
      }
    },
    "RestockingReceived": {
      "name": "RestockingReceived",
      "category": "Inventory",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "supplierId": {
            "type": "string",
            "maxLength": 128
          },
          "items": {
            "type": "array",
            "items": {
              "type": "object"
            }
          },
          "actualQty": {
            "type": "integer",
            "minimum": 0
          },
          "actualCost": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          }
        },
        "required": [
          "actualCost",
          "actualQty",
          "items",
          "restaurantId",
          "supplierId"
        ]
      }
    },
    "InventoryExpired": {
      "name": "InventoryExpired",
      "category": "Inventory",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "itemId": {
            "type": "string",
            "maxLength": 64
          },
          "qtyDiscarded": {
            "type": "integer",
            "minimum": 1
          },
          "expiryDate": {
            "type": "string",
            "format": "date"
          }
        },
        "required": [
          "expiryDate",
          "itemId",
          "qtyDiscarded",
          "restaurantId"
        ]
      }
    },
    "InventoryAuditCompleted": {
      "name": "InventoryAuditCompleted",
      "category": "Inventory",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "auditId": {
            "type": "string",
            "format": "uuid"
          },
          "completedAt": {
            "type": "string",
            "format": "date-time"
          },
          "varianceNotes": {
            "type": "string",
            "maxLength": 2000
          }
        },
        "required": [
          "auditId",
          "completedAt",
          "restaurantId",
          "varianceNotes"
        ]
      }
    },
    "SupplierRegistered": {
      "name": "SupplierRegistered",
      "category": "Supplier",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "supplierId": {
            "type": "string",
            "maxLength": 128
          },
          "name": {
            "type": "string",
            "maxLength": 256
          },
          "location": {
            "type": "string",
            "maxLength": 256
          },
          "creditLimit": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          }
        },
        "required": [
          "creditLimit",
          "location",
          "name",
          "supplierId"
        ]
      }
    },
    "SupplierInvoiceCreated": {
      "name": "SupplierInvoiceCreated",
      "category": "Supplier",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "invoiceId": {
            "type": "string",
            "format": "uuid"
          },
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "items": {
            "type": "array",
            "items": {
              "type": "object"
            }
          },
          "dueDate": {
            "type": "string",
            "format": "date"
          },
          "total": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          }
        },
        "required": [
          "dueDate",
          "invoiceId",
          "items",
          "restaurantId",
          "total"
        ]
      }
    },
    "SupplierInvoiceSent": {
      "name": "SupplierInvoiceSent",
      "category": "Supplier",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "invoiceId": {
            "type": "string",
            "format": "uuid"
          },
          "sentAt": {
            "type": "string",
            "format": "date-time"
          },
          "channel": {
            "type": "string",
            "enum": [
              "EMAIL",
              "WHATSAPP",
              "SMS",
              "API"
            ]
          }
        },
        "required": [
          "channel",
          "invoiceId",
          "sentAt"
        ]
      }
    },
    "SupplierInvoiceReceived": {
      "name": "SupplierInvoiceReceived",
      "category": "Supplier",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "invoiceId": {
            "type": "string",
            "format": "uuid"
          },
          "receivedAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "invoiceId",
          "receivedAt"
        ]
      }
    },
    "SupplierPaymentPartial": {
      "name": "SupplierPaymentPartial",
      "category": "Supplier",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "invoiceId": {
            "type": "string",
            "format": "uuid"
          },
          "amountPaid": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          },
          "remainingBalance": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          },
          "txHash": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^0x[a-fA-F0-9]{64}$"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "required": [
          "amountPaid",
          "invoiceId",
          "remainingBalance",
          "txHash"
        ]
      }
    },
    "SupplierPaymentSettled": {
      "name": "SupplierPaymentSettled",
      "category": "Supplier",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "invoiceId": {
            "type": "string",
            "format": "uuid"
          },
          "amountPaid": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          },
          "txHash": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^0x[a-fA-F0-9]{64}$"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "required": [
          "amountPaid",
          "invoiceId",
          "txHash"
        ]
      }
    },
    "SupplierCreditExtended": {
      "name": "SupplierCreditExtended",
      "category": "Supplier",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "supplierId": {
            "type": "string",
            "maxLength": 128
          },
          "creditAmount": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          },
          "terms": {
            "type": "string",
            "maxLength": 64
          }
        },
        "required": [
          "creditAmount",
          "restaurantId",
          "supplierId",
          "terms"
        ]
      }
    },
    "SupplierCreditUsed": {
      "name": "SupplierCreditUsed",
      "category": "Supplier",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "invoiceId": {
            "type": "string",
            "format": "uuid"
          },
          "creditAmount": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          }
        },
        "required": [
          "creditAmount",
          "invoiceId"
        ]
      }
    },
    "SupplierProofOfDeliveryAttached": {
      "name": "SupplierProofOfDeliveryAttached",
      "category": "Supplier",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "invoiceId": {
            "type": "string",
            "format": "uuid"
          },
          "proofOfDeliveryHash": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{64}$"
          }
        },
        "required": [
          "invoiceId",
          "proofOfDeliveryHash"
        ]
      }
    },
    "DeliveryPartnerAssigned": {
      "name": "DeliveryPartnerAssigned",
      "category": "Delivery",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "partnerId": {
            "type": "string",
            "maxLength": 128
          },
          "fee": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          }
        },
        "required": [
          "fee",
          "orderId",
          "partnerId"
        ]
      }
    },
    "DeliveryStarted": {
      "name": "DeliveryStarted",
      "category": "Delivery",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "partnerLocation": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "lat": {
                "type": "number",
                "minimum": -90,
                "maximum": 90
              },
              "lng": {
                "type": "number",
                "minimum": -180,
                "maximum": 180
              }
            },
            "required": [
              "lat",
              "lng"
            ]
          }
        },
        "required": [
          "orderId",
          "partnerLocation"
        ]
      }
    },
    "DeliveryInProgress": {
      "name": "DeliveryInProgress",
      "category": "Delivery",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "currentLocation": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "lat": {
                "type": "number",
                "minimum": -90,
                "maximum": 90
              },
              "lng": {
                "type": "number",
                "minimum": -180,
                "maximum": 180
              }
            },
            "required": [
              "lat",
              "lng"
            ]
          },
          "ETA": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "ETA",
          "currentLocation",
          "orderId"
        ]
      }
    },
    "DeliveryCompleted": {
      "name": "DeliveryCompleted",
      "category": "Delivery",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "actualTime": {
            "type": "string",
            "format": "date-time"
          },
          "distance": {
            "type": "number",
            "minimum": 0
          }
        },
        "required": [
          "actualTime",
          "distance",
          "orderId"
        ]
      }
    },
    "DeliveryFailed": {
      "name": "DeliveryFailed",
      "category": "Delivery",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "reason": {
            "type": "string",
            "maxLength": 512
          }
        },
        "required": [
          "orderId",
          "reason"
        ]
      }
    },
    "DeliveryRated": {
      "name": "DeliveryRated",
      "category": "Delivery",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "rating": {
            "type": "integer",
            "minimum": 1,
            "maximum": 5
          },
          "feedback": {
            "type": "string",
            "maxLength": 2000
          }
        },
        "required": [
          "feedback",
          "orderId",
          "rating"
        ]
      }
    },
    "DeliveryETAUpdated": {
      "name": "DeliveryETAUpdated",
      "category": "Delivery",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "oldETA": {
            "type": "string",
            "format": "date-time"
          },
          "newETA": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "newETA",
          "oldETA",
          "orderId"
        ]
      }
    },
    "DeliveryLocationUpdated": {
      "name": "DeliveryLocationUpdated",
      "category": "Delivery",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "currentLocation": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "lat": {
                "type": "number",
                "minimum": -90,
                "maximum": 90
              },
              "lng": {
                "type": "number",
                "minimum": -180,
                "maximum": 180
              }
            },
            "required": [
              "lat",
              "lng"
            ]
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "currentLocation",
          "orderId",
          "timestamp"
        ]
      }
    },
    "DeliveryTipAdded": {
      "name": "DeliveryTipAdded",
      "category": "Delivery",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "tipAmount": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          },
          "method": {
            "type": "string",
            "enum": [
              "CASH",
              "IN_APP",
              "ON_CHAIN"
            ]
          }
        },
        "required": [
          "method",
          "orderId",
          "tipAmount"
        ]
      }
    },
    "PaymentInitiated": {
      "name": "PaymentInitiated",
      "category": "Payment",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "amount": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          },
          "rate": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,12})?$"
          },
          "method": {
            "type": "string",
            "enum": [
              "BLOCKCHAIN",
              "FIAT",
              "NILE_FUTURE"
            ]
          }
        },
        "required": [
          "amount",
          "method",
          "orderId",
          "rate"
        ]
      }
    },
    "PaymentSubmittedToBlockchain": {
      "name": "PaymentSubmittedToBlockchain",
      "category": "Payment",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "txHash": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{64}$"
          }
        },
        "required": [
          "orderId",
          "txHash"
        ]
      }
    },
    "PaymentConfirmed": {
      "name": "PaymentConfirmed",
      "category": "Payment",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "blockNumber": {
            "type": "integer",
            "minimum": 0
          },
          "confirmation": {
            "type": "integer",
            "minimum": 0
          }
        },
        "required": [
          "blockNumber",
          "confirmation",
          "orderId"
        ]
      }
    },
    "PaymentSettled": {
      "name": "PaymentSettled",
      "category": "Payment",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "toWallet": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "amount": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          },
          "finalRate": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,12})?$"
          }
        },
        "required": [
          "amount",
          "finalRate",
          "orderId",
          "toWallet"
        ]
      }
    },
    "PaymentFeeCharged": {
      "name": "PaymentFeeCharged",
      "category": "Payment",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "feeBps": {
            "type": "integer",
            "minimum": 0,
            "maximum": 10000
          },
          "feeAmount": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          }
        },
        "required": [
          "feeAmount",
          "feeBps",
          "orderId"
        ]
      }
    },
    "PaymentFailed": {
      "name": "PaymentFailed",
      "category": "Payment",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "reason": {
            "type": "string",
            "maxLength": 512
          },
          "refundInitiated": {
            "type": "boolean"
          }
        },
        "required": [
          "orderId",
          "reason",
          "refundInitiated"
        ]
      }
    },
    "PaymentDisputed": {
      "name": "PaymentDisputed",
      "category": "Payment",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "claimant": {
            "type": "string",
            "maxLength": 128
          },
          "reason": {
            "type": "string",
            "maxLength": 512
          },
          "claimAmount": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          }
        },
        "required": [
          "claimAmount",
          "claimant",
          "orderId",
          "reason"
        ]
      }
    },
    "DisputeResolved": {
      "name": "DisputeResolved",
      "category": "Payment",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "resolution": {
            "type": "string",
            "enum": [
              "REFUND",
              "CONFIRM"
            ]
          },
          "txHash": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^0x[a-fA-F0-9]{64}$"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "required": [
          "orderId",
          "resolution",
          "txHash"
        ]
      }
    },
    "RefundInitiated": {
      "name": "RefundInitiated",
      "category": "Payment",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "amount": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          },
          "method": {
            "type": "string",
            "enum": [
              "ON_CHAIN",
              "OFF_CHAIN"
            ]
          }
        },
        "required": [
          "amount",
          "method",
          "orderId"
        ]
      }
    },
    "RefundConfirmed": {
      "name": "RefundConfirmed",
      "category": "Payment",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "amount": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          },
          "txHash": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^0x[a-fA-F0-9]{64}$"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "required": [
          "amount",
          "orderId",
          "txHash"
        ]
      }
    },
    "ExchangeRateSnapshotted": {
      "name": "ExchangeRateSnapshotted",
      "category": "Currency",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "rate": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,12})?$"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          },
          "oracleSource": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          }
        },
        "required": [
          "oracleSource",
          "rate",
          "restaurantId",
          "timestamp"
        ]
      }
    },
    "ExchangeRateUpdated": {
      "name": "ExchangeRateUpdated",
      "category": "Currency",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "localCurrency": {
            "type": "string",
            "pattern": "^[A-Z]{3}$"
          },
          "rate": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,12})?$"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          },
          "oracleSource": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          }
        },
        "required": [
          "localCurrency",
          "oracleSource",
          "rate",
          "timestamp"
        ]
      }
    },
    "RateLimitApproached": {
      "name": "RateLimitApproached",
      "category": "Currency",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "currentTotal": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          },
          "dailyLimit": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          },
          "percentUsed": {
            "type": "number",
            "minimum": 0,
            "maximum": 100
          }
        },
        "required": [
          "currentTotal",
          "dailyLimit",
          "percentUsed",
          "restaurantId"
        ]
      }
    },
    "RateLimitExceeded": {
      "name": "RateLimitExceeded",
      "category": "Currency",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "attemptedAmount": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          },
          "limit": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          },
          "action": {
            "type": "string",
            "enum": [
              "BLOCK",
              "ALLOW_WITH_REVIEW"
            ]
          }
        },
        "required": [
          "action",
          "attemptedAmount",
          "limit",
          "restaurantId"
        ]
      }
    },
    "RateLimitIncreaseRequested": {
      "name": "RateLimitIncreaseRequested",
      "category": "Currency",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "newLimit": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          },
          "reason": {
            "type": "string",
            "maxLength": 512
          }
        },
        "required": [
          "newLimit",
          "reason",
          "restaurantId"
        ]
      }
    },
    "RateLimitIncreaseApproved": {
      "name": "RateLimitIncreaseApproved",
      "category": "Currency",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "newLimit": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          }
        },
        "required": [
          "newLimit",
          "restaurantId"
        ]
      }
    },
    "OracleSourceDegraded": {
      "name": "OracleSourceDegraded",
      "category": "Currency",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "localCurrency": {
            "type": "string",
            "pattern": "^[A-Z]{3}$"
          },
          "oracleSource": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "details": {
            "type": "string",
            "maxLength": 512
          }
        },
        "required": [
          "details",
          "localCurrency",
          "oracleSource"
        ]
      }
    },
    "UserRegistered": {
      "name": "UserRegistered",
      "category": "Identity",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "phoneNumber": {
            "type": "string",
            "pattern": "^\\+[1-9]\\d{1,14}$"
          },
          "walletAddress": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^0x[a-fA-F0-9]{40}$"
              },
              {
                "type": "null"
              }
            ]
          },
          "role": {
            "type": "string",
            "maxLength": 64
          }
        },
        "required": [
          "phoneNumber",
          "role",
          "walletAddress"
        ]
      }
    },
    "UserRoleAssigned": {
      "name": "UserRoleAssigned",
      "category": "Identity",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "userId": {
            "type": "string",
            "maxLength": 128
          },
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "role": {
            "type": "string",
            "maxLength": 64
          }
        },
        "required": [
          "restaurantId",
          "role",
          "userId"
        ]
      }
    },
    "UserRoleRevoked": {
      "name": "UserRoleRevoked",
      "category": "Identity",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "userId": {
            "type": "string",
            "maxLength": 128
          },
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "role": {
            "type": "string",
            "maxLength": 64
          }
        },
        "required": [
          "restaurantId",
          "role",
          "userId"
        ]
      }
    },
    "UserSuspended": {
      "name": "UserSuspended",
      "category": "Identity",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "userId": {
            "type": "string",
            "maxLength": 128
          },
          "reason": {
            "type": "string",
            "maxLength": 512
          }
        },
        "required": [
          "reason",
          "userId"
        ]
      }
    },
    "BiometricAdded": {
      "name": "BiometricAdded",
      "category": "Identity",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "userId": {
            "type": "string",
            "maxLength": 128
          },
          "type": {
            "type": "string",
            "enum": [
              "FACE_ID",
              "FINGERPRINT"
            ]
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "timestamp",
          "type",
          "userId"
        ]
      }
    },
    "SessionStarted": {
      "name": "SessionStarted",
      "category": "Identity",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "userId": {
            "type": "string",
            "maxLength": 128
          },
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "ipAddress": {
            "type": "string",
            "maxLength": 64
          }
        },
        "required": [
          "ipAddress",
          "restaurantId",
          "userId"
        ]
      }
    },
    "SessionEnded": {
      "name": "SessionEnded",
      "category": "Identity",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "userId": {
            "type": "string",
            "maxLength": 128
          },
          "duration": {
            "type": "integer",
            "minimum": 0
          }
        },
        "required": [
          "duration",
          "userId"
        ]
      }
    },
    "SiweAuthenticated": {
      "name": "SiweAuthenticated",
      "category": "Identity",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "walletAddress": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "domain": {
            "type": "string",
            "maxLength": 255
          },
          "chainId": {
            "type": "integer",
            "minimum": 1
          },
          "nonce": {
            "type": "string",
            "maxLength": 64
          }
        },
        "required": [
          "chainId",
          "domain",
          "nonce",
          "walletAddress"
        ]
      }
    },
    "DeviceRegistered": {
      "name": "DeviceRegistered",
      "category": "Identity",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "userId": {
            "type": "string",
            "maxLength": 128
          },
          "deviceId": {
            "type": "string",
            "maxLength": 128
          },
          "platform": {
            "type": "string",
            "enum": [
              "IOS",
              "ANDROID",
              "WEB",
              "POS"
            ]
          }
        },
        "required": [
          "deviceId",
          "platform",
          "userId"
        ]
      }
    },
    "AnomalyDetected": {
      "name": "AnomalyDetected",
      "category": "Fraud",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "type": {
            "type": "string",
            "maxLength": 64
          },
          "severity": {
            "type": "integer",
            "minimum": 1,
            "maximum": 5
          },
          "details": {
            "type": "string",
            "maxLength": 2000
          },
          "action": {
            "type": "string",
            "maxLength": 128
          }
        },
        "required": [
          "action",
          "details",
          "severity",
          "type"
        ]
      }
    },
    "TransactionBlocked": {
      "name": "TransactionBlocked",
      "category": "Fraud",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "txHash": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{64}$"
          },
          "reason": {
            "type": "string",
            "maxLength": 512
          }
        },
        "required": [
          "reason",
          "txHash"
        ]
      }
    },
    "ManualReviewRequested": {
      "name": "ManualReviewRequested",
      "category": "Fraud",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "entityId": {
            "type": "string",
            "maxLength": 128
          },
          "type": {
            "type": "string",
            "maxLength": 64
          },
          "reason": {
            "type": "string",
            "maxLength": 512
          }
        },
        "required": [
          "entityId",
          "reason",
          "type"
        ]
      }
    },
    "DisputeClaimFiled": {
      "name": "DisputeClaimFiled",
      "category": "Fraud",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "entityId": {
            "type": "string",
            "maxLength": 128
          },
          "amount": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          },
          "reason": {
            "type": "string",
            "maxLength": 512
          }
        },
        "required": [
          "amount",
          "entityId",
          "reason"
        ]
      }
    },
    "ManualReviewResolved": {
      "name": "ManualReviewResolved",
      "category": "Fraud",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "reviewId": {
            "type": "string",
            "format": "uuid"
          },
          "resolution": {
            "type": "string",
            "enum": [
              "APPROVE",
              "REJECT",
              "ESCALATE"
            ]
          },
          "notes": {
            "type": "string",
            "maxLength": 2000
          }
        },
        "required": [
          "notes",
          "resolution",
          "reviewId"
        ]
      }
    },
    "InvestorAccountCreated": {
      "name": "InvestorAccountCreated",
      "category": "Investor",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "investorId": {
            "type": "string",
            "format": "uuid"
          },
          "investorWallet": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "restaurantId": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^0x[a-fA-F0-9]{40}$"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "required": [
          "investorId",
          "investorWallet",
          "restaurantId"
        ]
      }
    },
    "InvestmentMade": {
      "name": "InvestmentMade",
      "category": "Investor",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "investorId": {
            "type": "string",
            "format": "uuid"
          },
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "investmentAmount": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          },
          "investmentDate": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "investmentAmount",
          "investmentDate",
          "investorId",
          "restaurantId"
        ]
      }
    },
    "OwnershipRecalculated": {
      "name": "OwnershipRecalculated",
      "category": "Investor",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "investorId": {
            "type": "string",
            "format": "uuid"
          },
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "ownershipPercent": {
            "type": "number",
            "minimum": 0,
            "maximum": 100
          }
        },
        "required": [
          "investorId",
          "ownershipPercent",
          "restaurantId"
        ]
      }
    },
    "DividendDeclared": {
      "name": "DividendDeclared",
      "category": "Investor",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "periodStart": {
            "type": "string",
            "format": "date"
          },
          "periodEnd": {
            "type": "string",
            "format": "date"
          },
          "totalDividendAmount": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          }
        },
        "required": [
          "periodEnd",
          "periodStart",
          "restaurantId",
          "totalDividendAmount"
        ]
      }
    },
    "DividendPaid": {
      "name": "DividendPaid",
      "category": "Investor",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "investorId": {
            "type": "string",
            "format": "uuid"
          },
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "amount": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          },
          "txHash": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^0x[a-fA-F0-9]{64}$"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "required": [
          "amount",
          "investorId",
          "restaurantId",
          "txHash"
        ]
      }
    },
    "InvestorStatusChanged": {
      "name": "InvestorStatusChanged",
      "category": "Investor",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "investorId": {
            "type": "string",
            "format": "uuid"
          },
          "oldStatus": {
            "type": "string",
            "enum": [
              "ACTIVE",
              "DORMANT",
              "EXITED"
            ]
          },
          "newStatus": {
            "type": "string",
            "enum": [
              "ACTIVE",
              "DORMANT",
              "EXITED"
            ]
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "investorId",
          "newStatus",
          "oldStatus",
          "timestamp"
        ]
      }
    },
    "SyncStarted": {
      "name": "SyncStarted",
      "category": "Sync",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "streamId": {
            "type": "string",
            "maxLength": 128
          },
          "producerId": {
            "type": "string",
            "maxLength": 128
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "producerId",
          "streamId",
          "timestamp"
        ]
      }
    },
    "SyncCompleted": {
      "name": "SyncCompleted",
      "category": "Sync",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "streamId": {
            "type": "string",
            "maxLength": 128
          },
          "producerId": {
            "type": "string",
            "maxLength": 128
          },
          "downloadedEvents": {
            "type": "integer",
            "minimum": 0
          },
          "uploadedEvents": {
            "type": "integer",
            "minimum": 0
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "downloadedEvents",
          "producerId",
          "streamId",
          "timestamp",
          "uploadedEvents"
        ]
      }
    },
    "SyncConflictDetected": {
      "name": "SyncConflictDetected",
      "category": "Sync",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "streamId": {
            "type": "string",
            "maxLength": 128
          },
          "entityId": {
            "type": "string",
            "maxLength": 128
          },
          "conflictType": {
            "type": "string",
            "maxLength": 64
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "conflictType",
          "entityId",
          "streamId",
          "timestamp"
        ]
      }
    },
    "SyncIntegrityVerified": {
      "name": "SyncIntegrityVerified",
      "category": "Sync",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "streamId": {
            "type": "string",
            "maxLength": 128
          },
          "chainHash": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{64}$"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "chainHash",
          "streamId",
          "timestamp"
        ]
      }
    },
    "SyncIntegrityFailed": {
      "name": "SyncIntegrityFailed",
      "category": "Sync",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "streamId": {
            "type": "string",
            "maxLength": 128
          },
          "details": {
            "type": "string",
            "maxLength": 2000
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "details",
          "streamId",
          "timestamp"
        ]
      }
    },
    "BlockchainReorgDetected": {
      "name": "BlockchainReorgDetected",
      "category": "Sync",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "chainId": {
            "type": "integer",
            "minimum": 1
          },
          "fromBlock": {
            "type": "integer",
            "minimum": 0
          },
          "toBlock": {
            "type": "integer",
            "minimum": 0
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "chainId",
          "fromBlock",
          "timestamp",
          "toBlock"
        ]
      }
    },
    "ProtocolUpgraded": {
      "name": "ProtocolUpgraded",
      "category": "System",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "oldVersion": {
            "type": "string"
          },
          "newVersion": {
            "type": "string"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "newVersion",
          "oldVersion",
          "timestamp"
        ]
      }
    },
    "AmlAlertRaised": {
      "name": "AmlAlertRaised",
      "category": "Compliance",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "orderId": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ]
          },
          "amount": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          },
          "threshold": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          },
          "reason": {
            "type": "string",
            "maxLength": 512
          }
        },
        "required": [
          "amount",
          "orderId",
          "reason",
          "restaurantId",
          "threshold"
        ]
      }
    },
    "TaxReportGenerated": {
      "name": "TaxReportGenerated",
      "category": "Compliance",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "periodStart": {
            "type": "string",
            "format": "date"
          },
          "periodEnd": {
            "type": "string",
            "format": "date"
          },
          "reportHash": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{64}$"
          }
        },
        "required": [
          "periodEnd",
          "periodStart",
          "reportHash",
          "restaurantId"
        ]
      }
    },
    "DataDeletionRequested": {
      "name": "DataDeletionRequested",
      "category": "Compliance",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "userId": {
            "type": "string",
            "maxLength": 128
          },
          "requestedAt": {
            "type": "string",
            "format": "date-time"
          },
          "scope": {
            "type": "string",
            "enum": [
              "FULL",
              "PII_ONLY"
            ]
          }
        },
        "required": [
          "requestedAt",
          "scope",
          "userId"
        ]
      }
    },
    "DataDeletionCompleted": {
      "name": "DataDeletionCompleted",
      "category": "Compliance",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "userId": {
            "type": "string",
            "maxLength": 128
          },
          "completedAt": {
            "type": "string",
            "format": "date-time"
          },
          "anonymizationMethod": {
            "type": "string",
            "maxLength": 128
          }
        },
        "required": [
          "anonymizationMethod",
          "completedAt",
          "userId"
        ]
      }
    },
    "OrderPaymentTimeout": {
      "name": "OrderPaymentTimeout",
      "category": "Order",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "timeoutSeconds": {
            "type": "integer",
            "minimum": 1
          }
        },
        "required": [
          "orderId",
          "timeoutSeconds"
        ]
      }
    },
    "OrderRepriced": {
      "name": "OrderRepriced",
      "category": "Order",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "oldTotal": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          },
          "newTotal": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          },
          "reason": {
            "type": "string",
            "maxLength": 256
          }
        },
        "required": [
          "newTotal",
          "oldTotal",
          "orderId",
          "reason"
        ]
      }
    },
    "OrderDiscountApplied": {
      "name": "OrderDiscountApplied",
      "category": "Order",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "code": {
            "type": "string",
            "maxLength": 64
          },
          "amount": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          }
        },
        "required": [
          "amount",
          "code",
          "orderId"
        ]
      }
    },
    "OrderDiscountRemoved": {
      "name": "OrderDiscountRemoved",
      "category": "Order",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "code": {
            "type": "string",
            "maxLength": 64
          }
        },
        "required": [
          "code",
          "orderId"
        ]
      }
    },
    "OrderReceiptIssued": {
      "name": "OrderReceiptIssued",
      "category": "Order",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "receiptNumber": {
            "type": "string",
            "maxLength": 64
          }
        },
        "required": [
          "orderId",
          "receiptNumber"
        ]
      }
    },
    "OrderPrinted": {
      "name": "OrderPrinted",
      "category": "Order",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "printerId": {
            "type": "string",
            "maxLength": 64
          }
        },
        "required": [
          "orderId",
          "printerId"
        ]
      }
    },
    "OrderAcknowledgedByPOS": {
      "name": "OrderAcknowledgedByPOS",
      "category": "Order",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "posDeviceId": {
            "type": "string",
            "maxLength": 128
          }
        },
        "required": [
          "orderId",
          "posDeviceId"
        ]
      }
    },
    "OrderCustomerNotified": {
      "name": "OrderCustomerNotified",
      "category": "Order",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "channel": {
            "type": "string",
            "enum": [
              "PUSH",
              "SMS",
              "WHATSAPP"
            ]
          }
        },
        "required": [
          "channel",
          "orderId"
        ]
      }
    },
    "OrderKitchenTicketGenerated": {
      "name": "OrderKitchenTicketGenerated",
      "category": "Kitchen",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "ticketId": {
            "type": "string",
            "maxLength": 64
          }
        },
        "required": [
          "orderId",
          "ticketId"
        ]
      }
    },
    "KitchenStepCompleted": {
      "name": "KitchenStepCompleted",
      "category": "Kitchen",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "step": {
            "type": "string",
            "maxLength": 64
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "orderId",
          "step",
          "timestamp"
        ]
      }
    },
    "InventoryPriceUpdated": {
      "name": "InventoryPriceUpdated",
      "category": "Inventory",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "itemId": {
            "type": "string",
            "maxLength": 64
          },
          "oldSellingPrice": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          },
          "newSellingPrice": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          }
        },
        "required": [
          "itemId",
          "newSellingPrice",
          "oldSellingPrice",
          "restaurantId"
        ]
      }
    },
    "InventorySupplierUpdated": {
      "name": "InventorySupplierUpdated",
      "category": "Inventory",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "itemId": {
            "type": "string",
            "maxLength": 64
          },
          "oldSupplier": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "newSupplier": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          }
        },
        "required": [
          "itemId",
          "newSupplier",
          "oldSupplier",
          "restaurantId"
        ]
      }
    },
    "InventoryMinQtyUpdated": {
      "name": "InventoryMinQtyUpdated",
      "category": "Inventory",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "itemId": {
            "type": "string",
            "maxLength": 64
          },
          "oldMinQty": {
            "type": "integer",
            "minimum": 0
          },
          "newMinQty": {
            "type": "integer",
            "minimum": 0
          }
        },
        "required": [
          "itemId",
          "newMinQty",
          "oldMinQty",
          "restaurantId"
        ]
      }
    },
    "SupplierCreditLineSet": {
      "name": "SupplierCreditLineSet",
      "category": "Supplier",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "supplierId": {
            "type": "string",
            "maxLength": 128
          },
          "creditLimit": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          },
          "terms": {
            "type": "string",
            "maxLength": 64
          }
        },
        "required": [
          "creditLimit",
          "restaurantId",
          "supplierId",
          "terms"
        ]
      }
    },
    "SupplierCreditLineUpdated": {
      "name": "SupplierCreditLineUpdated",
      "category": "Supplier",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "supplierId": {
            "type": "string",
            "maxLength": 128
          },
          "oldCreditLimit": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          },
          "newCreditLimit": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          }
        },
        "required": [
          "newCreditLimit",
          "oldCreditLimit",
          "restaurantId",
          "supplierId"
        ]
      }
    },
    "DeliveryCancelled": {
      "name": "DeliveryCancelled",
      "category": "Delivery",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "reason": {
            "type": "string",
            "maxLength": 512
          }
        },
        "required": [
          "orderId",
          "reason"
        ]
      }
    },
    "DeliveryRouteUpdated": {
      "name": "DeliveryRouteUpdated",
      "category": "Delivery",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "route": {
            "type": "array",
            "items": {
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "lat": {
                  "type": "number",
                  "minimum": -90,
                  "maximum": 90
                },
                "lng": {
                  "type": "number",
                  "minimum": -180,
                  "maximum": 180
                }
              },
              "required": [
                "lat",
                "lng"
              ]
            }
          }
        },
        "required": [
          "orderId",
          "route"
        ]
      }
    },
    "PaymentIntentCreated": {
      "name": "PaymentIntentCreated",
      "category": "Payment",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "amount": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          },
          "method": {
            "type": "string"
          }
        },
        "required": [
          "amount",
          "method",
          "orderId"
        ]
      }
    },
    "PaymentReceiptValidated": {
      "name": "PaymentReceiptValidated",
      "category": "Payment",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "txHash": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{64}$"
          },
          "valid": {
            "type": "boolean"
          }
        },
        "required": [
          "orderId",
          "txHash",
          "valid"
        ]
      }
    },
    "SettlementQueued": {
      "name": "SettlementQueued",
      "category": "Payment",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "queueId": {
            "type": "string",
            "format": "uuid"
          }
        },
        "required": [
          "orderId",
          "queueId"
        ]
      }
    },
    "SettlementExecuted": {
      "name": "SettlementExecuted",
      "category": "Payment",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "txHash": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{64}$"
          },
          "netAmount": {
            "type": "string",
            "pattern": "^(0|[1-9]\\d*)(\\.\\d{1,6})?$"
          }
        },
        "required": [
          "netAmount",
          "orderId",
          "txHash"
        ]
      }
    },
    "ChargebackRequested": {
      "name": "ChargebackRequested",
      "category": "Payment",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "reason": {
            "type": "string",
            "maxLength": 512
          }
        },
        "required": [
          "orderId",
          "reason"
        ]
      }
    },
    "ChargebackResolved": {
      "name": "ChargebackResolved",
      "category": "Payment",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "orderId": {
            "type": "string",
            "format": "uuid"
          },
          "resolution": {
            "type": "string",
            "enum": [
              "REFUND",
              "DENY"
            ]
          },
          "txHash": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^0x[a-fA-F0-9]{64}$"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "required": [
          "orderId",
          "resolution",
          "txHash"
        ]
      }
    },
    "OracleFallbackUsed": {
      "name": "OracleFallbackUsed",
      "category": "Currency",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "localCurrency": {
            "type": "string",
            "pattern": "^[A-Z]{3}$"
          },
          "primaryOracle": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "fallbackOracle": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "fallbackOracle",
          "localCurrency",
          "primaryOracle",
          "timestamp"
        ]
      }
    },
    "RiskScoreComputed": {
      "name": "RiskScoreComputed",
      "category": "Fraud",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "subject": {
            "type": "string",
            "maxLength": 128
          },
          "score": {
            "type": "integer",
            "minimum": 0,
            "maximum": 1000
          },
          "modelVersion": {
            "type": "string",
            "maxLength": 32
          }
        },
        "required": [
          "modelVersion",
          "score",
          "subject"
        ]
      }
    },
    "InvestorPortfolioUpdated": {
      "name": "InvestorPortfolioUpdated",
      "category": "Investor",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "investorId": {
            "type": "string",
            "format": "uuid"
          },
          "addedRestaurants": {
            "type": "array",
            "items": {
              "type": "string",
              "pattern": "^0x[a-fA-F0-9]{40}$"
            }
          },
          "removedRestaurants": {
            "type": "array",
            "items": {
              "type": "string",
              "pattern": "^0x[a-fA-F0-9]{40}$"
            }
          }
        },
        "required": [
          "addedRestaurants",
          "investorId",
          "removedRestaurants"
        ]
      }
    },
    "PerformanceMetricsUpdated": {
      "name": "PerformanceMetricsUpdated",
      "category": "Investor",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "metrics": {
            "type": "object",
            "additionalProperties": true
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "metrics",
          "restaurantId",
          "timestamp"
        ]
      }
    },
    "AuditLogExported": {
      "name": "AuditLogExported",
      "category": "Compliance",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "restaurantId": {
            "type": "string",
            "pattern": "^0x[a-fA-F0-9]{40}$"
          },
          "exportId": {
            "type": "string",
            "format": "uuid"
          },
          "format": {
            "type": "string",
            "enum": [
              "CSV",
              "JSON",
              "PARQUET"
            ]
          }
        },
        "required": [
          "exportId",
          "format",
          "restaurantId"
        ]
      }
    },
    "UserConsentRecorded": {
      "name": "UserConsentRecorded",
      "category": "Compliance",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "userId": {
            "type": "string",
            "maxLength": 128
          },
          "consentType": {
            "type": "string",
            "maxLength": 64
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "consentType",
          "timestamp",
          "userId"
        ]
      }
    },
    "ApiKeyCreated": {
      "name": "ApiKeyCreated",
      "category": "System",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "keyId": {
            "type": "string",
            "format": "uuid"
          },
          "owner": {
            "type": "string",
            "maxLength": 128
          },
          "scopes": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "keyId",
          "owner",
          "scopes"
        ]
      }
    },
    "ApiKeyRevoked": {
      "name": "ApiKeyRevoked",
      "category": "System",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "keyId": {
            "type": "string",
            "format": "uuid"
          },
          "revokedAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "keyId",
          "revokedAt"
        ]
      }
    },
    "WebhookDeliveryAttempted": {
      "name": "WebhookDeliveryAttempted",
      "category": "System",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "webhookId": {
            "type": "string",
            "format": "uuid"
          },
          "targetUrl": {
            "type": "string",
            "format": "uri"
          },
          "statusCode": {
            "type": "integer",
            "minimum": 0
          }
        },
        "required": [
          "statusCode",
          "targetUrl",
          "webhookId"
        ]
      }
    },
    "WebhookDeliveryFailed": {
      "name": "WebhookDeliveryFailed",
      "category": "System",
      "version": "0.1",
      "immutable": true,
      "description": "",
      "payloadSchema": {
        "$schema": "https://json-schema.org/draft/2020-12/schema",
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "webhookId": {
            "type": "string",
            "format": "uuid"
          },
          "error": {
            "type": "string",
            "maxLength": 512
          }
        },
        "required": [
          "error",
          "webhookId"
        ]
      }
    }
  },
  "eventCount": 140
}