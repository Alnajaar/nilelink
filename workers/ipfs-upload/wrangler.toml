name = "nilelink-ipfs-upload"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# Worker configuration
workers_dev = true
route = ""
zone_name = ""
account_id = "79b17f6d66b3dcfd8aca5f94a1f702d3"

# Environment variables (set via wrangler secret)
# PINATA_JWT - Pinata API JWT token
# JWT_SECRET - Secret for validating JWT tokens (same as token worker)
# MAX_FILE_SIZE - Maximum file size in bytes (default: 10485760 = 10MB)

# Production routes
[env.production]
routes = [
  { pattern = "edge.nilelink.app/ipfs/upload", zone_name = "nilelink.app" }
]

# Environment-specific variables
[env.production.vars]
MAX_FILE_SIZE = "10485760"  # 10MB
