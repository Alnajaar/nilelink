# ============================================================================
# NileLink v2.0 Production Environment Variables
# Complete production configuration for AWS deployment
# ============================================================================

# ========================================
# Application Configuration
# ========================================
NODE_ENV=production
PORT=3001
DOMAIN=nilelink.app
API_URL=https://api.nilelink.app
FRONTEND_URL=https://nilelink.app

# ========================================
# Database Configuration
# ========================================
POSTGRES_DB=nilelink_prod
POSTGRES_USER=${POSTGRES_USER}
POSTGRES_PASSWORD=${POSTGRES_PASSWORD}
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}

# ========================================
# Security & Authentication
# ========================================
JWT_SECRET=${JWT_SECRET}
JWT_EXPIRES_IN=7d
MAGIC_SECRET_KEY=${MAGIC_SECRET_KEY}
EVENT_ENCRYPTION_KEY=${EVENT_ENCRYPTION_KEY}
INTEGRITY_KEY=${INTEGRITY_KEY}
DATA_ENCRYPTION_KEY=${DATA_ENCRYPTION_KEY}
BACKUP_ENCRYPTION_KEY=${BACKUP_ENCRYPTION_KEY}

# ========================================
# Blockchain Configuration
# ========================================
POLYGON_RPC_URL=${POLYGON_RPC_URL}
AMOY_RPC_URL=${AMOY_RPC_URL}
BLOCKCHAIN_NETWORK=amoy
INFURA_PROJECT_ID=${INFURA_PROJECT_ID}

# ========================================
# Smart Contract Addresses (Amoy Testnet)
# ========================================
NEXT_PUBLIC_NILELINK_PROTOCOL_ADDRESS=0x98Dc3Ae669ae676fA261C38951C5dC01dB4d5768
NEXT_PUBLIC_RESTAURANT_REGISTRY_ADDRESS=0x38D57dc538f4009452c3979a99256892EDa4dC9C
NEXT_PUBLIC_ORDER_SETTLEMENT_ADDRESS=0x719F8A5f9700657dA090abABdF1c9F740491CCb9
NEXT_PUBLIC_DELIVERY_COORDINATOR_ADDRESS=0x496589A5E1b9f6A9550aDCaaa5164f0dc7F92814
NEXT_PUBLIC_SUPPLY_CHAIN_ADDRESS=0xb66dADaea090B9786699B4adEAdEF045C4d435e9
NEXT_PUBLIC_CURRENCY_EXCHANGE_ADDRESS=0x2B9649De5f9E3050cAc4494FA5c06027EA7f05f7
NEXT_PUBLIC_FRAUD_DETECTION_ADDRESS=0x5C566AAFA13e546b9FABf6df081ED756DfCBDfA5
NEXT_PUBLIC_SUPPLIER_REGISTRY_ADDRESS=0x974612B35e3d67361C33C5faC96E0F499980F36f
NEXT_PUBLIC_BRIDGE_COORDINATOR_ADDRESS=0x72A0B897C9aE76C4329B082E8BFE888D85c3ddeB
NEXT_PUBLIC_MARKETPLACE_ADDRESS=0xf81B286b77EC59628F8E490A5AC9c18c484193cA
NEXT_PUBLIC_AI_SECURITY_ORCHESTRATOR_ADDRESS=0x3bc0f17083003bf706388c6860b0395894c6C682
NEXT_PUBLIC_CORE_AI_ORACLE_ADDRESS=0xe9c984d77c38Cf197F46678c126677c343FF7e96

# ========================================
# The Graph Subgraph Endpoints
# ========================================
NEXT_PUBLIC_GRAPH_AMOY_ID=1723246
NEXT_PUBLIC_GRAPH_AMOY_ENDPOINT=https://api.studio.thegraph.com/query/${NEXT_PUBLIC_GRAPH_AMOY_ID}/nilelink-amoy/v0.0.2
NEXT_PUBLIC_GRAPH_API_KEY=${NEXT_PUBLIC_GRAPH_API_KEY}

# ========================================
# Redis Configuration
# ========================================
REDIS_URL=redis://redis-cluster:6379
REDIS_CLUSTER_ENABLED=true

# ========================================
# Payment Gateway
# ========================================
STRIPE_SECRET_KEY=${STRIPE_SECRET_KEY}
STRIPE_PUBLISHABLE_KEY=${STRIPE_PUBLISHABLE_KEY}
STRIPE_WEBHOOK_SECRET=${STRIPE_WEBHOOK_SECRET}

# ========================================
# Email Configuration
# ========================================
SMTP_HOST=${SMTP_HOST}
SMTP_PORT=${SMTP_PORT}
SMTP_USER=${SMTP_USER}
SMTP_PASS=${SMTP_PASS}
SMTP_SECURE=${SMTP_SECURE}
FROM_EMAIL=nilelinkpos@gmail.com

# ========================================
# AI Service Configuration
# ========================================
OPENAI_API_KEY=${OPENAI_API_KEY}
INTERNAL_API_KEY=${INTERNAL_API_KEY}
AI_SERVICE_URL=http://ai-service:8000

# ========================================
# Monitoring & Logging
# ========================================
PROMETHEUS_ENABLED=true
GRAFANA_ADMIN_PASSWORD=${GRAFANA_PASSWORD}
ELASTICSEARCH_ENABLED=true

# ========================================
# AWS Configuration (for ECS deployment)
# ========================================
AWS_REGION=eu-central-1
AWS_ECR_REGISTRY=${AWS_ECR_REGISTRY}
AWS_ECS_CLUSTER=nilelink-cluster
AWS_ECS_SERVICE_BACKEND=nilelink-backend-service
AWS_ECS_SERVICE_FRONTEND=nilelink-portal-service

# ========================================
# SSL & CDN Configuration
# ========================================
CLOUDFRONT_DISTRIBUTION_ID=${CLOUDFRONT_DISTRIBUTION_ID}
SSL_CERTIFICATE_ARN=${SSL_CERTIFICATE_ARN}
ROUTE53_HOSTED_ZONE_ID=${ROUTE53_HOSTED_ZONE_ID}

# ========================================
# Backup Configuration
# ========================================
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM UTC
BACKUP_S3_BUCKET=nilelink-backups-prod

# ========================================
# Feature Flags
# ========================================
ENABLE_BLOCKCHAIN=true
ENABLE_AI_INSIGHTS=true
ENABLE_MULTIPLE_PAYMENT_METHODS=true
ENABLE_OFFLINE_MODE=true
ENABLE_REAL_TIME_UPDATES=true

# ========================================
# Performance Tuning
# ========================================
MAX_CONNECTIONS=200
CONNECTION_TIMEOUT=30000
QUERY_TIMEOUT=30000
SESSION_TIMEOUT=3600000

# ========================================
# Security Headers
# ========================================
CSP_ENABLED=true
HSTS_ENABLED=true
X_FRAME_OPTIONS=DENY
X_CONTENT_TYPE_OPTIONS=nosniff

# ========================================
# Third-party Integrations
# ========================================
GOOGLE_ANALYTICS_ID=${GOOGLE_ANALYTICS_ID}
SLACK_WEBHOOK_URL=${SLACK_WEBHOOK_URL}
DISCORD_WEBHOOK_URL=${DISCORD_WEBHOOK_URL}
