(()=>{var e={};e.id=896,e.ids=[896],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8997:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>x,originalPathname:()=>h,pages:()=>o,routeModule:()=>m,tree:()=>c}),s(6519),s(6139),s(2029),s(5866);var l=s(3191),i=s(8716),r=s(7922),a=s.n(r),n=s(5231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let c=["",{children:["driver",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6519)),"C:\\Users\\nilel\\Projects\\Sduan\\New folder\\nilelink\\web\\delivery\\src\\app\\driver\\login\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,6139)),"C:\\Users\\nilel\\Projects\\Sduan\\New folder\\nilelink\\web\\delivery\\src\\app\\driver\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,2029)),"C:\\Users\\nilel\\Projects\\Sduan\\New folder\\nilelink\\web\\delivery\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\nilel\\Projects\\Sduan\\New folder\\nilelink\\web\\delivery\\src\\app\\driver\\login\\page.tsx"],h="/driver/login/page",x={require:s,loadChunk:()=>Promise.resolve()},m=new l.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/driver/login/page",pathname:"/driver/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3808:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},3426:()=>{},9447:(e,t,s)=>{Promise.resolve().then(s.bind(s,9658))},2563:(e,t,s)=>{Promise.resolve().then(s.bind(s,233))},4230:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});let l=(0,s(6557).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},9658:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var l=s(326),i=s(7577),r=s(434),a=s(5047),n=s(5920),d=s(9389),c=s(6671),o=s(9635),h=s(4014),x=s(2783);function m({children:e}){let t=(0,a.usePathname)(),[s,m]=(0,i.useState)(!0),u=[{icon:n.Z,label:"Home",path:"/driver/home"},{icon:d.Z,label:"Queue",path:"/driver/queue"},{icon:c.Z,label:"Wallet",path:"/driver/wallet"},{icon:o.Z,label:"Shift",path:"/driver/shift"}];return(0,l.jsxs)("div",{className:"min-h-screen bg-[#050505] text-white flex flex-col font-sans selection:bg-emerald-500/30",children:[(0,l.jsxs)("div",{className:`fixed top-0 w-full z-50 px-4 py-2 flex justify-between items-center backdrop-blur-md border-b bg-black/50 ${s?"border-white/5":"border-red-500/20 bg-red-900/10"}`,children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[l.jsx(h.Z,{size:14,className:s?"text-emerald-500":"text-red-500"}),l.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-nile-silver/60",children:s?"NileLink Net: Connected":"OFFLINE MODE"})]}),!s&&l.jsx(x.Z,{size:14,className:"text-red-500 animate-pulse"})]}),l.jsx("main",{className:"flex-1 pb-24 pt-12 overflow-y-auto w-full max-w-md mx-auto",children:e}),l.jsx("nav",{className:"fixed bottom-0 w-full z-50 bg-[#050505]/90 backdrop-blur-xl border-t border-white/5 pb-safe",children:l.jsx("div",{className:"flex justify-around items-center w-full max-w-md mx-auto h-20",children:u.map(e=>{let s=t===e.path;return(0,l.jsxs)(r.default,{href:e.path,className:"flex-1 flex flex-col items-center justify-center gap-1 h-full active:scale-90 transition-transform",children:[l.jsx("div",{className:`p-1.5 rounded-xl transition-colors ${s?"bg-emerald-500 text-white":"text-nile-silver/40"}`,children:l.jsx(e.icon,{size:22,strokeWidth:s?2.5:2})}),l.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest ${s?"text-emerald-500":"text-nile-silver/20"}`,children:e.label})]},e.path)})})})]})}},233:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var l=s(326),i=s(7577),r=s(5047);let a=(0,s(6557).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);var n=s(6671),d=s(4230),c=s(8860);function o(){let e=(0,r.useRouter)(),[t,s]=(0,i.useState)("disclaimer"),[o,h]=(0,i.useState)(""),[x,m]=(0,i.useState)(!1),[u]=(0,i.useState)(()=>new c.D),p=async()=>{4===o.length&&(m(!0),await u.startShift(o)?e.push("/driver/home"):(alert("Invalid PIN"),h(""),m(!1)))},g=e=>{o.length<4&&h(t=>t+e)};return l.jsx("div",{className:"min-h-screen bg-nile-deep flex flex-col p-6",children:(0,l.jsxs)("div",{className:"flex-1 flex flex-col justify-center max-w-md mx-auto w-full",children:[(0,l.jsxs)("div",{className:"mb-12 text-center",children:[l.jsx("div",{className:"w-20 h-20 rounded-3xl bg-emerald-500 flex items-center justify-center text-nile-dark mx-auto mb-6 shadow-2xl shadow-emerald-500/20",children:l.jsx(a,{size:40})}),l.jsx("h1",{className:"text-3xl font-black text-white italic uppercase tracking-tighter mb-2",children:"NileLink Driver"}),l.jsx("p",{className:"text-xs font-black text-nile-silver/30 uppercase tracking-[0.2em]",children:"Secure Logistics Protocol"})]}),"disclaimer"===t?(0,l.jsxs)("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-8",children:[(0,l.jsxs)("div",{className:"p-8 rounded-[2.5rem] bg-white/5 border border-white/10",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 text-amber-500 mb-6",children:[l.jsx(n.Z,{size:24}),l.jsx("span",{className:"text-sm font-black uppercase tracking-widest",children:"Responsibility"})]}),(0,l.jsxs)("p",{className:"text-sm font-medium text-nile-silver leading-relaxed mb-6",children:["By opening this shift, you acknowledge that you are acting as a ",l.jsx("strong",{className:"text-white",children:"Mobile Cash Custodian"}),"."]}),(0,l.jsxs)("ul",{className:"space-y-4 mb-2",children:[(0,l.jsxs)("li",{className:"flex gap-4 text-xs font-bold text-nile-silver/60",children:[l.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 mt-1.5"}),"You are personally liable for all cash collected."]}),(0,l.jsxs)("li",{className:"flex gap-4 text-xs font-bold text-nile-silver/60",children:[l.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 mt-1.5"}),"Every delivery is cryptographically signed."]}),(0,l.jsxs)("li",{className:"flex gap-4 text-xs font-bold text-nile-silver/60",children:[l.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 mt-1.5"}),"GPS location is logged for every action."]})]})]}),(0,l.jsxs)("button",{onClick:()=>{s("pin")},className:"w-full h-20 bg-emerald-500 active:bg-emerald-600 text-nile-dark rounded-3xl font-black text-sm uppercase tracking-widest flex items-center justify-center gap-4 transition-all active:scale-95",children:["I Understand & Accept",l.jsx(d.Z,{size:20})]})]}):(0,l.jsxs)("div",{className:"animate-in fade-in slide-in-from-bottom-8",children:[l.jsx("div",{className:"flex justify-center gap-6 mb-12",children:[0,1,2,3].map(e=>l.jsx("div",{className:`w-4 h-4 rounded-full transition-all ${e<o.length?"bg-emerald-500 scale-125":"bg-white/10"}`},e))}),(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[[1,2,3,4,5,6,7,8,9].map(e=>l.jsx("button",{onClick:()=>g(e.toString()),className:"h-20 rounded-3xl bg-white/5 active:bg-white/20 text-3xl font-black text-white italic transition-all",children:e},e)),l.jsx("div",{}),l.jsx("button",{onClick:()=>g("0"),className:"h-20 rounded-3xl bg-white/5 active:bg-white/20 text-3xl font-black text-white italic transition-all",children:"0"}),l.jsx("button",{onClick:()=>h(e=>e.slice(0,-1)),className:"h-20 rounded-3xl active:bg-white/10 flex items-center justify-center text-nile-silver transition-all",children:l.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Del"})})]}),l.jsx("button",{onClick:p,disabled:4!==o.length||x,className:`w-full h-20 rounded-3xl font-black text-sm uppercase tracking-widest flex items-center justify-center gap-4 transition-all ${4===o.length?"bg-white text-black active:scale-95":"bg-white/5 text-nile-silver/20 cursor-not-allowed"}`,children:x?"Verifying Identity...":"Open Shift"})]})]})})}},8860:(e,t,s)=>{"use strict";s.d(t,{D:()=>i});class l{constructor(){this.dbName="nilelink_delivery_ledger"}init(){console.log("[MobileLedger] Initializing Local Chain..."),localStorage.getItem(this.dbName)||localStorage.setItem(this.dbName,JSON.stringify([]))}async recordEvent(e,t){let s=await this.getAllEvents(),l=s[s.length-1],i={id:"undefined"!=typeof crypto&&crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).substring(2),type:e,timestamp:Date.now(),actorId:"driver-current",deviceId:"device-mobile-01",hash:"pending-hash",prevHash:l?l.hash:null,payload:t,synced:!1};return i.hash=`${i.id}:${Date.now()}`,s.push(i),this.saveEvents(s),console.log(`[MobileLedger] ðŸ”— Block Mined: ${e}`,i),i}async getEvents(){return this.getAllEvents()}async getCashBalance(){let e=await this.getAllEvents(),t=0;for(let s of e)"CASH_COLLECTED"===s.type?t+=s.payload.amount||0:"CASH_DEPOSITED"===s.type&&(t-=s.payload.amount||0);return t}async getShiftStatus(){let e=(await this.getAllEvents()).reverse().find(e=>"SHIFT_OPEN"===e.type||"SHIFT_CLOSE"===e.type);return e&&"SHIFT_OPEN"===e.type?"OPEN":"CLOSED"}getAllEvents(){return[]}saveEvents(e){}}class i{constructor(){this.ledger=new l}async startShift(e){return"1234"===e&&(await this.ledger.recordEvent("SHIFT_OPEN",{method:"PIN"}),!0)}async endShift(e){let t=await this.ledger.getCashBalance();return await this.ledger.recordEvent("SHIFT_CLOSE",{confirmedBalance:e,sysBalance:t,variance:e-t}),!0}async acceptOrder(e){await this.ledger.recordEvent("TASK_ACCEPTED",{orderId:e})}async pickupOrder(e){await this.ledger.recordEvent("TASK_PICKED_UP",{orderId:e,location:"mock-lat-long"})}async completeDelivery(e,t,s){await this.ledger.recordEvent("TASK_COMPLETED",{orderId:e,proof:t}),s>0&&await this.ledger.recordEvent("CASH_COLLECTED",{orderId:e,amount:s})}async failDelivery(e,t){await this.ledger.recordEvent("TASK_FAILED",{orderId:e,reason:t})}async getCashInHand(){return this.ledger.getCashBalance()}async getShiftState(){return this.ledger.getShiftStatus()}}},6139:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});let l=(0,s(8570).createProxy)(String.raw`C:\Users\nilel\Projects\Sduan\New folder\nilelink\web\delivery\src\app\driver\layout.tsx#default`)},6519:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});let l=(0,s(8570).createProxy)(String.raw`C:\Users\nilel\Projects\Sduan\New folder\nilelink\web\delivery\src\app\driver\login\page.tsx#default`)},2029:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n,metadata:()=>a});var l=s(9510),i=s(5384),r=s.n(i);s(5023);let a={title:"NileLink | Decentralized Economic OS",description:"Operating the daily economy with events, ledger, and blockchain verified transparency."};function n({children:e}){return l.jsx("html",{lang:"en",children:l.jsx("body",{className:r().className,children:e})})}},5023:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),l=t.X(0,[935,487],()=>s(8997));module.exports=l})();