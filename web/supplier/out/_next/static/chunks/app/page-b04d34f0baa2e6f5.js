(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6853:function(e,t,a){Promise.resolve().then(a.bind(a,1193))},2252:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});let i=(0,a(9763).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},9202:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});let i=(0,a(9763).Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},4286:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});let i=(0,a(9763).Z)("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},525:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});let i=(0,a(9763).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},340:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});let i=(0,a(9763).Z)("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]])},1193:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return b}});var i=a(7437),r=a(2265),l=a(7648),s=a(2252),n=a(525),c=a(340),o=a(9763);let d=(0,o.Z)("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]),h=(0,o.Z)("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);var u=a(4286);let m=(0,o.Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var p=a(9202);let x=(0,o.Z)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);var g=a(144),f=a(9943);let v=e=>{let{label:t,value:a,sub:r,icon:l,color:s="text-nile-silver"}=e;return(0,i.jsxs)("div",{className:"p-8 rounded-[3rem] bg-white/[0.02] border border-white/5 group hover:bg-white/5 transition-all",children:[(0,i.jsx)("div",{className:"w-14 h-14 rounded-2xl bg-black border border-white/10 flex items-center justify-center ".concat(s," mb-6 group-hover:scale-110 transition-transform"),children:(0,i.jsx)(l,{size:24})}),(0,i.jsx)("div",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-nile-silver/20 mb-2",children:t}),(0,i.jsx)("div",{className:"text-3xl font-black text-white italic tracking-tighter mb-1",children:a}),(0,i.jsx)("div",{className:"text-[10px] font-bold text-nile-silver/40 uppercase tracking-widest",children:r})]})};function b(){let[e,t]=(0,r.useState)(null),[a,o]=(0,r.useState)([]),[b]=(0,r.useState)(()=>new g.o),[y]=(0,r.useState)(()=>new f.r);return(0,r.useEffect)(()=>{(async()=>{t(await b.getDashboardStats()),o(await y.getRestockTriggers())})()},[b,y]),(0,i.jsxs)("div",{className:"min-h-screen bg-[#050505] text-white flex flex-col font-sans overflow-x-hidden",children:[(0,i.jsxs)("header",{className:"p-10 flex flex-col md:flex-row justify-between items-start md:items-center gap-8 relative z-20",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-5xl font-black italic tracking-tighter uppercase leading-none",children:"Mainframe"}),(0,i.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,i.jsx)("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),(0,i.jsx)("span",{className:"text-[11px] font-black uppercase tracking-[0.3em] text-emerald-500/60 italic underline decoration-emerald-500/20 underline-offset-4",children:"Protocol Node: Cairo_North_01"})]})]}),(0,i.jsxs)("div",{className:"flex gap-4",children:[(0,i.jsx)(l.default,{href:"/catalog",className:"h-16 px-10 rounded-2xl bg-white/5 border border-white/10 flex items-center justify-center text-xs font-black uppercase tracking-widest hover:bg-white/10 transition-all",children:"Catalog"}),(0,i.jsx)(l.default,{href:"/orders",className:"h-16 px-10 rounded-2xl bg-indigo-600 shadow-xl shadow-indigo-600/20 flex items-center justify-center text-xs font-black uppercase tracking-widest hover:scale-105 active:scale-95 transition-all",children:"Fulfillment Queue"})]})]}),(0,i.jsxs)("main",{className:"flex-1 px-10 pb-40 space-y-12",children:[a.length>0&&(0,i.jsxs)("div",{className:"p-8 rounded-[3rem] bg-amber-500/10 border border-amber-500/20 flex flex-col md:flex-row items-center justify-between gap-6 animate-in fade-in slide-in-from-top duration-1000",children:[(0,i.jsxs)("div",{className:"flex items-center gap-6",children:[(0,i.jsx)("div",{className:"w-16 h-16 rounded-3xl bg-amber-500 text-black flex items-center justify-center shrink-0",children:(0,i.jsx)(s.Z,{size:32})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-xl font-black italic tracking-tight uppercase text-amber-500",children:"Restock Intelligence Alert"}),(0,i.jsx)("p",{className:"text-sm font-medium text-amber-500/60 italic",children:a[0]})]})]}),(0,i.jsx)("button",{className:"h-14 px-8 rounded-xl bg-amber-500 text-black text-[10px] font-black uppercase tracking-widest hover:scale-105 active:scale-95 transition-all",children:"Approve Restock Cycle"})]}),(0,i.jsxs)("section",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,i.jsx)(v,{label:"Receivables",value:"$".concat(null==e?void 0:e.totalReceivables.toLocaleString()),sub:"Outstanding Debt",icon:n.Z,color:"text-emerald-500"}),(0,i.jsx)(v,{label:"Critical Debt",value:(null==e?void 0:e.overdueCount)||0,sub:"Accounts Over 30D",icon:s.Z,color:"text-red-500"}),(0,i.jsx)(v,{label:"Active Orders",value:(null==e?void 0:e.activeOrders)||0,sub:"In-Protocol Processing",icon:c.Z}),(0,i.jsx)(v,{label:"Supply Capacity",value:"92%",sub:"Warehouse Load",icon:d})]}),(0,i.jsxs)("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,i.jsxs)(l.default,{href:"/ledger",className:"p-10 rounded-[3.5rem] bg-white/5 border border-white/5 hover:border-white/20 transition-all group relative overflow-hidden",children:[(0,i.jsx)(h,{size:32,className:"text-nile-silver/20 mb-6 group-hover:text-emerald-500 transition-colors"}),(0,i.jsx)("h4",{className:"text-2xl font-black italic tracking-tighter uppercase mb-2",children:"Credit Ledger"}),(0,i.jsx)("p",{className:"text-xs font-medium text-nile-silver/30 leading-relaxed italic",children:"Manage per-client debt aging and payment verification."}),(0,i.jsx)("div",{className:"absolute -right-8 -bottom-8 opacity-[0.03] group-hover:opacity-[0.05] transition-opacity",children:(0,i.jsx)(u.Z,{size:160})})]}),(0,i.jsxs)(l.default,{href:"/reports",className:"p-10 rounded-[3.5rem] bg-white/5 border border-white/5 hover:border-white/20 transition-all group relative overflow-hidden",children:[(0,i.jsx)(m,{size:32,className:"text-nile-silver/20 mb-6 group-hover:text-indigo-500 transition-colors"}),(0,i.jsx)("h4",{className:"text-2xl font-black italic tracking-tighter uppercase mb-2",children:"Analytics"}),(0,i.jsx)("p",{className:"text-xs font-medium text-nile-silver/30 leading-relaxed italic",children:"Daily volume, sales velocity, and protocol distribution map."}),(0,i.jsx)("div",{className:"absolute -right-8 -bottom-8 opacity-[0.03] group-hover:opacity-[0.05] transition-opacity",children:(0,i.jsx)(p.Z,{size:160})})]}),(0,i.jsxs)("div",{className:"p-10 rounded-[3.5rem] bg-indigo-600 flex flex-col justify-center items-center text-center shadow-2xl shadow-indigo-600/20 active:scale-95 transition-all cursor-pointer group",children:[(0,i.jsx)("div",{className:"w-20 h-20 rounded-full bg-white/10 flex items-center justify-center mb-6 group-hover:animate-bounce",children:(0,i.jsx)(x,{size:32,className:"text-white"})}),(0,i.jsx)("h4",{className:"text-2xl font-black italic tracking-tighter uppercase text-white mb-2",children:"Deploy Batch"}),(0,i.jsx)("p",{className:"text-[10px] font-black uppercase tracking-widest text-white/60",children:"New Seasonal Catalog Cycle"})]})]})]})]})}},2956:function(e,t,a){"use strict";a.d(t,{m:function(){return r}});var i=a(5595);class r{async getCreditStatus(e){let t=this.ledger.getData().credits.find(t=>t.clientId===e);if(!t)return{record:void 0,riskLevel:"LOW",color:"#10b981"};let a=t.balance/t.limit,i="LOW",r="#10b981";return a>.9||t.balance>t.limit?(i="CRITICAL",r="#ef4444"):a>.7?(i="HIGH",r="#f97316"):a>.4&&(i="MEDIUM",r="#eab308"),{record:t,riskLevel:i,color:r}}async approveCreditOrder(e,t){let{record:a}=await this.getCreditStatus(e);return!!a&&a.balance+t<=1.1*a.limit}async getOverdueClients(){return this.ledger.getData().credits.filter(e=>e.balance>0&&Date.now()-(e.lastPaymentDate||0)>2592e6)}constructor(){this.ledger=new i.f}}},9943:function(e,t,a){"use strict";a.d(t,{r:function(){return r}});var i=a(5595);class r{async getForecast(){let e=this.ledger.getData(),t=e.events.filter(e=>"ORDER_DELIVERED"===e.type);return e.catalog.map(e=>{let a=t.filter(t=>{var a;return null===(a=t.payload.items)||void 0===a?void 0:a.some(t=>t.id===e.id)}).length>0?e.stock/50:0,i=a>0?Math.floor(e.stock/a):999,r="STABLE";return i<3||e.stock<20?r="CRITICAL":(i<10||e.stock<50)&&(r="WARNING"),{productId:e.id,name:e.name,predictedOutDays:i,status:r}})}async getRestockTriggers(){return(await this.getForecast()).filter(e=>"CRITICAL"===e.status).map(e=>"CRITICAL: ".concat(e.name," (Predicted exhaustion in ").concat(e.predictedOutDays," days)"))}constructor(){this.ledger=new i.f}}},144:function(e,t,a){"use strict";a.d(t,{o:function(){return l}});var i=a(5595),r=a(2956);class l{async acceptOrder(e,t,a){return await this.credit.approveCreditOrder(e,a)?(await this.ledger.recordEvent("ORDER_ACCEPTED",e,{orderId:t,total:a}),!0):(console.error("[SupplierEngine] Credit limit exceeded for client ".concat(e)),!1)}async fulfillOrder(e,t,a){let i=a.reduce((e,t)=>e+t.price*t.qty,0);await this.ledger.recordEvent("ORDER_DELIVERED",e,{orderId:t,items:a,total:i}),await this.ledger.updateCreditBalance(e,i)}async getDashboardStats(){let e=this.ledger.getData();return{totalReceivables:e.credits.reduce((e,t)=>e+t.balance,0),overdueCount:e.credits.filter(e=>e.balance>0&&Date.now()-(e.lastPaymentDate||0)>2592e6).length,activeOrders:e.events.filter(e=>"ORDER_ACCEPTED"===e.type).length,inventoryHealth:"STABLE"}}constructor(){this.ledger=new i.f,this.credit=new r.m}}},5595:function(e,t,a){"use strict";a.d(t,{f:function(){return i}});class i{init(){let e={events:[],credits:[{clientId:"c1",clientName:"Grand Cairo Grill",balance:1250,limit:5e3,lastPaymentDate:Date.now()-432e6},{clientId:"c2",clientName:"Sultan Bakery",balance:450,limit:2e3,lastPaymentDate:Date.now()-10368e5},{clientId:"c3",clientName:"Giza Sushi House",balance:0,limit:3e3,lastPaymentDate:null}],catalog:[{id:"p1",name:"Ground Beef",unit:"kg",price:12,stock:450},{id:"p2",name:"White Flour",unit:"bag",price:45,stock:120},{id:"p3",name:"Olive Oil",unit:"L",price:8.5,stock:85}]};localStorage.setItem(this.dbName,JSON.stringify(e))}async recordEvent(e,t,a){let i=this.getData(),r={id:"undefined"!=typeof crypto&&crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).substring(2),type:e,timestamp:Date.now(),clientId:t,payload:a,hash:"h_".concat(Date.now())};return i.events.push(r),this.saveData(i),r}getData(){let e=localStorage.getItem(this.dbName);return e?JSON.parse(e):{events:[],credits:[],catalog:[]}}saveData(e){localStorage.setItem(this.dbName,JSON.stringify(e))}async updateCreditBalance(e,t){let a=this.getData(),i=a.credits.findIndex(t=>t.clientId===e);-1!==i&&(a.credits[i].balance+=t,this.saveData(a))}constructor(){this.dbName="nl_supplier_ledger",localStorage.getItem(this.dbName)||this.init()}}}},function(e){e.O(0,[451,971,117,744],function(){return e(e.s=6853)}),_N_E=e.O()}]);